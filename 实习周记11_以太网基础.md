1.  以太网的MAC地址

（1）    地址位数48，由点分16进制表示

（2）    前24位由代表厂商代码，后24位由厂商自己分配

（3）    48全为1为广播地址

（4）    第8位是1为组播地址

2.  以太网原理—CSMS/CD

（1）    CS（载波**）：在发送数据之前进行**，以确保线路空闲，减少冲突的机会。

（2）    MA（多地址访问）：每个站点发送的数据，可以被多个站点接收。

（3）    CD（冲突检测）：边发送边检测，发现冲突就停止发送，然后延迟耦合随机时间之后继续发送。

注：两个站点同时发送信号，经过叠加之后会使线路的电压值的摆动值超过正常值的一倍。由此可以检测出检测出线路出现冲突。

3.  共享式以太网的传输介质是：同轴电缆、双绞线。

4.  HUB与二层交换机

（1）    HUB（集线器）：解决网络连接问题

·         应用于物理层，只在网络起到信号放大和重发作用，不具备定向传送的能力。

·         缺陷：冲突严重、广播泛滥、无安全机制。

（2）    二层交换机（网桥）： 解决数据帧定点发送问题

·         通过接收的网段的数据帧的MAC地址构建自己MAC地址表。

·         每次需要转发时，通过查询MAC地址表，找到则向目标地址发送数据帧，否则，向所有端口发送数据帧。

·         可以向所有端口转发广播帧和多播帧。

·         缺陷：广播泛滥。

5.  三层交换机

（1）    解决广播泛滥问题：将没有互相访问需求的主机隔离开，构建虚拟局域网（VLAN）

·         隔离广播域，抑制广播报文。

·         分割不同用户，提高网络安全性。

·         虚拟工作组，超越传统的工作方式。

（2）    解决限制广播报文，不限制单播报文问题：三层交换机。VLAN和IP子网建立一对一的联系（路由器和交换机合成一个设备）

现阶段成熟的局域网技术有三种：以太网Ethernet、令牌环Token Ring、光纤分布式数据接口FDDI。以太网是主流技术。

多路访问控制协议分类 
以太网是一种共享介质的局域网技术，同一时间只能有一个站点发送数据。这种共享介质的通信方式比如存在一个冲突的问题。

这种同一链路连接多个终端，就是多路访问。

多路访问控制有多重协议，如下图。


CSMA/CD
以太网采用了CSMA/CD（Carrier Sense Multiple Access with Collision Detection，带有冲突检测的载波侦听多址访问）方法作为多路访问控制协议。

发送数据帧的流程，如下图。
IFG（Inter Frame Gap），帧间隙，让屋里信道恢复平静，同时也让接收者对接收的帧作必要的处理。等待IFG时间后开始发送数据帧。

jamming：干扰信号，确保共享介质上的所有站点都能检测到这时以太网上已经产生了冲突，然后终止未发送完的数据帧的发送，等待一个随机时间，这个随机时间成为回退时间（backoff time）。

回退时间：backofftime，是SlotTime的整数倍。回退时间的取值范围与检测到冲突的次数有关。

SlotTime：传送最短以太网帧所需的时间。

 

以太网帧结构
以太网这个术语通常是指由DEC，Intel和Xerox公司在1982年联合公布的一个标准，它是当今TCP/IP采用的主要的局域网技术，它采用一种称作CSMA/CD的媒体接入方法。几年后，IEEE802委员会公布了一个稍有不同的标准集，其中802.3针对整个CSMA/CD网络，802.4针对令牌总线网络，802.5针对令牌环网络；此三种帧的通用部分由802.2标准来定义，也就是我们熟悉的802网络共有的逻辑链路控制（LLC）。由于目前CSMA/CD的媒体接入方式占主流，因此本文仅对以太网和IEEE 802.3的帧格式作详细的分析。

IP协议支持两种格式的封装。以太网IP数据报文的封装在RFC 894中定义，IEEE802.3网络的IP数据报文封装在RFC 1042中定义。标准规定：

1）主机必须能发送和接收采用RFC 894（以太网）封装格式的分组；

2）主机应该能接收RFC 1042（IEEE 802.3）封装格式的分组；

3）主机可以发送采用RFC 1042（IEEE 802.3）封装格式的分组。如果主机能同时发送两种类型的分组数据，那么发送的分组必须是可以设置的，而且默认条件下必须是RFC 894（以太网）。

最常使用的封装格式是RFC 894定义的格式，俗称Ethernet II或者Ethernet DIX。下面，我们就以Ethernet II称呼RFC 894定义的以太帧，以IEEE 802.3称呼RFC 1042定义的以太帧。


1）Ethernet II的帧结构


Ethernet_II的帧中各字段说明如下：

l  DMAC

DMAC（Destination MAC）是目的地址。DMAC确定帧的接收者。

l  SMAC

SMAC（Source MAC）是源地址。SMAC字段标识发送帧的工作站。

l  Type

两字节的类型字段用于标识数据字段中包含的高层协议，也就是说，该字段告诉接收设备如何解析数据字段。

在以太网中，多种协议可以在局域网中同时共存。因此，在Ethernet_II的类型字段中设置相应的十六进制值提供了在局域网中支持多协议传输的机制。

类型字段取值为0800的帧代表IP协议帧。

类型字段取值为0806的帧代表ARP协议帧。

类型字段取值为8035的帧代表RARP协议帧。

类型字段取值为8137的帧代表IPX和SPX传输协议帧。

l  Data

数据字段的最小长度必须为46字节以保证帧长至少为64字节，这意味着传输一字节信息也必须使用46字节的数据字段。如果填入该字段的信息少于46字节，该字段的其余部分也必须进行填充。数据字段的最大长度为1500字节。

l  CRC

CRC（Cyclic Redundancy Check）循环冗余校验字段提供了一种错误检测机制。

每一个发送器都计算一个包括了地址字段、类型字段和数据字段的CRC码，然后将计算出的CRC码填入4字节的CRC字段。

 
2）IEEE 802.3的帧结构 


如图所示，IEEE 802.3帧格式类似于Ethernet_II帧，只是Ethernet_II帧的Type域被802.3帧的Length域取代，并且占用了Data字段的8个字节作为LLC和SNAP字段。

l  Length

Length字段定义了Data字段包含的字节数。

l  LLC

LLC（Logical Link Control）由目的服务访问点DSAP（Destination Service Access Point）、源服务访问点SSAP（Source Service Access Point）和Control字段组成。

l  SNAP

SNAP（Sub-network Access Protocol）由机构代码（org code）和类型（Type）字段组成。org code三个字节都为0。Type字段的含义与Ethernet_II帧中的Type字段相同。

其他字段请参见Ethernet_II的帧的字段说明。

IEEE802.3帧根据DSAP和SSAP字段的取值又可分为以下几类：

l  当DSAP和SSAP都取特定值0xff时，802.3帧就变成了Netware-ETHERNET帧，用来承载NetWare类型的数据。

l   当DSAP和SSAP都取特定值0xaa时，802.3帧就变成了ETHERNET_SNAP帧。ETHERNET_SNAP帧可以用于传输多种协议。因此，SNAP可以被看作一种扩展，它允许厂商创建自己的以太网传输协议。ETHERNET_SNAP标准由IEEE 802.1委员会制定，以保证IEEE 802.3局域网和以太网之间的互操作性。

l  DSAP和SSAP其他的取值均为纯IEEE802.3帧。

以太网帧数据字段的最小长度为46个字节，加上12 字节的源地址和目的地址，2字节的数据长度和4字节的FCS（帧检验序列），一共 64字节。如果数据段长度小于46个字节的时候，应该加填充字段（PAD）补充，否则不能正常进行冲突检测。
