PRBS:  Pseudo-Random Binary Sequence,伪随机二进制序列

新开一段网络，还未开通业务,现场没有仪表，中间这么多段链路是否都是OK的？

提供PRBS功能，能在调测、故障发生而无仪表的情况下迅速判断各链路是否OK！

原理：PRBS（Pseudo Random Bit Sequence）遵循O.150协议，包括伪随机码发生器和误码分析仪，用于实现设备的无仪表测试。

能够替代简单的仪表功能，减少仪表依赖，为快速开通业务提供依据，一般用于网络的自检和维护；

与软件内、外环回及光纤环回配合，逐段验证分析业务通道是否有故障。既可以分析本网元，也可以分析整个网络的情况；

网管提供可视化界面，可随时手工开始、停止PRBS功能测试，实时监视信号收发状态；

优点：

1)   用产生伪随机序列替换正常业务，实现设备的无仪表测试；

2)   测试码的类型可配，支持PRBS9、PRBS11、PRBS15、PRBS20、PRBS23、PRBS29、PRBS31伪随机码和用户配置码型；

3)   测试码输出接口类型可配，支持并行接口和串行接口；

4)   提供单次误码和连续误码下插，每8比特中的误码个数可配；

5)   支持数据流总数和误码总数统计，支持误码率计算；

6)   同步门限值和失步门限值可配，提供失步信号LSS、全0、全1指示。

适用于各类ASIC项目：

1)   传送网类，包括OTN、微波中频、线路、高阶交叉、低阶交叉、支路以及多元合一等类型芯片；

2)   接入网类，包括GPON、EPON、ADSL、MuX SOC等类型芯片；

3)   高速SerDes接口类芯片；

4)   在无线、数通和数字电视等类型芯片中也存在广泛应用。

应用场景：

1)   在线测试，配置一个通道进行测试，其他通道进行正常业务；

2)   停业务测试，系统运行前或维修时，可以配置全部通道用来测试。

PRBS 发送：

l支持逻辑发包器，报文内容为PRBS 23 码流，发包格式为ETH 帧；

lPRBS 发包的总速率，最大需要支持到2.5G；

l支持两个PRBS 伪随机码产生源，其中一个支持256 通道，一个支持8 通道。各个通道分时发送；

l支持ETH 头封装，ETH 头格式内容可配置，配置长度为16byte（DA+SA+TAG）；

通道通过不同VLAN 值区分，；

l2 个PRBS 码源，可以单独配置DA/SA 基地址，各个通道的DA/SA 在基地址上依次累加。（如DA 的基地址为a，则通道0 的DA 为“a”，通道1 的DA 为“a＋1”，依次类推）

l2 个PRBS 码源可以单独配置包长，支持范围64～9600Byte，不支持每个通道单独配置包长；

l2个PRBS 码源，通过同一个数据接口发送，数据接口位宽16bit，接口速率最大为16×数通时钟频率（最大300M，最小100M，典型200M）。2 个码源轮流发送报文，IPG分别可配置，但最终两个码源分别配置的包长＋IPG 为偶数，逻辑会自动为IPG补齐。这样有效速率为包长/(包长＋IPG)，两个码源分担的速率比例为两个码源的包长比例。

PRBS 接收校验：

l 支持进行ETH 格式封装报文解析（删除前16byte 或不删除可配置），并对净荷进行PRBS 同步和校验；

l 支持单包内部校验和多包连续校验模式；

l 多包连续校验模式支持失步门限可配置判断失步后支持再次进行同步。

l PRBS 启动和停止由软件控制，停止之后，逻辑最终同步校验结果可查询；支持每条流的发包数目/收包数目统计。
